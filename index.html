<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ekosistem Kaderi SimÃ¼lasyonu</title>
    <style>
        /* --- GENEL AYARLAR & DEÄÄ°ÅKENLER --- */
        :root {
            --primary: #2ecc71; /* YeÅŸil */
            --secondary: #3498db; /* Mavi */
            --danger: #e74c3c; /* KÄ±rmÄ±zÄ± */
            --warning: #f1c40f; /* SarÄ± */
            --dark: #2c3e50;
            --light: #ecf0f1;
            --glass: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.3);
            --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: linear-gradient(-45deg, #11998e, #38ef7d, #00b09b, #96c93d);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--dark);
            overflow-x: hidden;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- ANA KONTEYNER (Glassmorphism) --- */
        .app-container {
            width: 90%;
            max-width: 600px;
            min-height: 600px;
            background: var(--glass);
            backdrop-filter: blur(14px);
            -webkit-backdrop-filter: blur(14px);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
            padding: 2rem;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            transition: all 0.5s ease;
        }

        /* --- GEÃ‡Ä°ÅLER & GÄ°ZLEME --- */
        .screen {
            display: none; /* VarsayÄ±lan gizli */
            width: 100%;
            animation: fadeIn 0.8s ease;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .screen.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 { font-size: 2rem; font-weight: 800; color: #fff; text-shadow: 0 2px 4px rgba(0,0,0,0.2); margin-bottom: 0.5rem; }
        h2 { font-size: 1.5rem; color: var(--dark); margin-bottom: 1rem; }
        p { font-size: 1.1rem; line-height: 1.6; color: #fff; font-weight: 500; }

        /* --- BUTONLAR --- */
        .btn {
            padding: 15px 30px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            background: #fff;
            color: var(--primary);
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 1rem;
        }

        .btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
            background: var(--light);
        }

        .btn:active { transform: scale(0.95); }

        .btn-choice {
            width: 100%;
            padding: 12px;
            font-size: 1rem;
            background: rgba(255,255,255,0.9);
            color: var(--dark);
            text-transform: none;
            margin-top: 0.5rem;
            border-left: 5px solid var(--primary);
        }

        /* --- SLIDER STÄ°LÄ° --- */
        .control-group { width: 100%; margin-bottom: 1rem; text-align: left; }
        .control-label { font-weight: bold; display: flex; justify-content: space-between; color: #fff; margin-bottom: 5px; }
        
        input[type=range] {
            width: 100%;
            -webkit-appearance: none;
            background: transparent;
        }
        
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px; width: 20px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
            margin-top: -8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 5px;
            cursor: pointer;
            background: rgba(255,255,255,0.5);
            border-radius: 5px;
        }

        /* --- GRAFÄ°KLER --- */
        .stats-container {
            width: 100%;
            background: rgba(255,255,255,0.1);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
        }

        .bar-container {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        .bar-label { width: 30px; font-size: 1.2rem; }
        .progress-bg { flex-grow: 1; background: rgba(0,0,0,0.1); height: 10px; border-radius: 5px; margin: 0 10px; overflow: hidden;}
        .progress-fill { height: 100%; border-radius: 5px; transition: width 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .stat-val { width: 40px; font-weight: bold; color: #fff; text-align: right;}

        /* --- KARTLAR & ROLLER --- */
        .role-card {
            background: #fff;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
            width: 100%;
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .role-emoji { font-size: 4rem; margin-bottom: 1rem; display: block; }
        .role-title { font-size: 1.5rem; font-weight: bold; color: var(--dark); margin-bottom: 0.5rem; }
        .role-type { font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; padding: 5px 10px; border-radius: 4px; color: #fff; display: inline-block; margin-bottom: 1rem;}
        
        .type-uretici { background-color: var(--primary); }
        .type-tuketici { background-color: var(--danger); }
        .type-ayristirici { background-color: #8e44ad; }

        .educational-note {
            font-size: 0.9rem;
            background: rgba(255,255,255,0.3);
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            border-left: 3px solid #fff;
            text-align: left;
        }

        /* --- RESPONSIVE --- */
        @media (max-width: 480px) {
            h1 { font-size: 1.5rem; }
            .btn { width: 100%; }
            .app-container { padding: 1.5rem 1rem; }
        }
    </style>
</head>
<body>

<div class="app-container">
    
    <div id="screen-intro" class="screen active">
        <div style="font-size: 4rem; margin-bottom:1rem;">ğŸŒ</div>
        <h1>Ekosistem Kaderi</h1>
        <p>Ekosistem dengesini korumak ve doÄŸanÄ±n bileÅŸenlerini Ã¶ÄŸrenmek senin elinde.</p>
        <div class="educational-note">
            ğŸ’¡ <strong>Ekosistem:</strong> CanlÄ±lar (biyotik) ve cansÄ±z Ã§evre (abiyotik) arasÄ±ndaki iliÅŸki bÃ¼tÃ¼nÃ¼dÃ¼r.
        </div>
        <button class="btn" onclick="goToScreen('screen-simulation')">â–¶ SimÃ¼lasyonu BaÅŸlat</button>
    </div>

    <div id="screen-simulation" class="screen">
        <h2>ğŸ› Abiyotik FaktÃ¶rleri Ayarla</h2>
        <p style="font-size: 0.9rem;">SÄ±caklÄ±k, YaÄŸÄ±ÅŸ ve canlÄ± yoÄŸunluÄŸunu deÄŸiÅŸtirerek dengeyi gÃ¶zlemle.</p>

        <div class="control-group">
            <div class="control-label"><span>ğŸŒ¡ SÄ±caklÄ±k</span> <span id="val-temp">25Â°C</span></div>
            <input type="range" id="slider-temp" min="-10" max="50" value="25" oninput="updateSim()">
        </div>
        <div class="control-group">
            <div class="control-label"><span>ğŸŒ§ YaÄŸÄ±ÅŸ MiktarÄ±</span> <span id="val-rain">Orta</span></div>
            <input type="range" id="slider-rain" min="0" max="100" value="50" oninput="updateSim()">
        </div>
        <div class="control-group">
            <div class="control-label"><span>ğŸŒ± Bitki Ã–rtÃ¼sÃ¼</span> <span id="val-plant">Normal</span></div>
            <input type="range" id="slider-plant" min="10" max="100" value="60" oninput="updateSim()">
        </div>
        <div class="control-group">
            <div class="control-label"><span>ğŸ¦Š YÄ±rtÄ±cÄ± SayÄ±sÄ±</span> <span id="val-predator">Normal</span></div>
            <input type="range" id="slider-predator" min="5" max="100" value="20" oninput="updateSim()">
        </div>

        <div class="stats-container">
            <div class="bar-container">
                <span class="bar-label">ğŸŒ¿</span>
                <div class="progress-bg"><div id="bar-producers" class="progress-fill" style="width: 50%; background: #2ecc71;"></div></div>
                <span id="txt-producers" class="stat-val">50%</span>
            </div>
            <div class="bar-container">
                <span class="bar-label">ğŸ‡</span>
                <div class="progress-bg"><div id="bar-herbivores" class="progress-fill" style="width: 40%; background: #f1c40f;"></div></div>
                <span id="txt-herbivores" class="stat-val">40%</span>
            </div>
            <div class="bar-container">
                <span class="bar-label">ğŸ¦Š</span>
                <div class="progress-bg"><div id="bar-carnivores" class="progress-fill" style="width: 20%; background: #e74c3c;"></div></div>
                <span id="txt-carnivores" class="stat-val">20%</span>
            </div>
        </div>

        <button class="btn" style="font-size: 1rem; padding: 10px 20px;" onclick="goToEvent()">âš¡ Olay BaÅŸlat</button>
    </div>

    <div id="screen-event" class="screen">
        <h2 id="event-title">ğŸ”¥ Beklenmedik Olay!</h2>
        <div style="font-size: 3rem; margin: 1rem 0;" id="event-icon">âš ï¸</div>
        <p id="event-desc">Ekosistemi etkileyen bir durum oluÅŸtu.</p>
        
        <div id="event-choices" style="width: 100%;">
            </div>

        <div class="educational-note">
            ğŸ’¡ KararlarÄ±n <strong>PopÃ¼lasyon</strong> (tÃ¼r sayÄ±sÄ±) ve <strong>KomÃ¼nite</strong> dengesini deÄŸiÅŸtirecektir.
        </div>
    </div>

    <div id="screen-random" class="screen">
        <h2>ğŸ² Ekosistem Piyangosu</h2>
        <p>BakalÄ±m hangi canlÄ± tÃ¼rÃ¼yle karÅŸÄ±laÅŸacaksÄ±n?</p>
        
        <div id="organism-result" class="role-card" style="display: none;">
            <span id="org-icon" class="role-emoji">â“</span>
            <h3 id="org-name" class="role-title">CanlÄ± AdÄ±</h3>
            <span id="org-type" class="role-type">TÃ¼rÃ¼</span>
            <p id="org-desc" style="color:#555; font-size:0.95rem; margin-top:0.5rem;">AÃ§Ä±klama</p>
        </div>

        <button id="btn-roll" class="btn" onclick="rollOrganism()">ğŸ² Rastgele CanlÄ± SeÃ§</button>
        <button id="btn-finish" class="btn" style="display:none; background: var(--dark); color: #fff;" onclick="finishGame()">ğŸ† SonuÃ§larÄ± GÃ¶r</button>
    </div>

    <div id="screen-result" class="screen">
        <h2>ğŸ SimÃ¼lasyon TamamlandÄ±</h2>
        <div style="font-size: 5rem; margin: 1rem 0;" id="badge-icon">ğŸ–</div>
        <h3 id="badge-title">UnvanÄ±n HesaplanÄ±yor...</h3>
        <p id="badge-desc">Ekosistem kararlarÄ±na gÃ¶re analiz.</p>
        
        <div class="educational-note">
            Bu simÃ¼lasyonda <strong>Enerji AkÄ±ÅŸÄ±</strong> ve <strong>Besin Zinciri</strong> Ã¼zerindeki etkiyi yÃ¶nettin.
        </div>

        <button class="btn" onclick="location.reload()">ğŸ”„ Yeniden Oyna</button>
    </div>

</div>

<script>
    // --- VERÄ°LER VE YAPILANDIRMA ---
    
    // CanlÄ± Havuzu (50'ye yakÄ±n Ã¶rneklem)
    const organisms = [
        { name: "MeÅŸe AÄŸacÄ±", type: "uretici", icon: "ğŸŒ³", desc: "Fotosentez ile besin Ã¼retir. Orman ekosisteminin temelidir." },
        { name: "Su Yosunu (Alg)", type: "uretici", icon: "ğŸ¦ ", desc: "Sudaki oksijenin Ã§oÄŸunu Ã¼retir." },
        { name: "Papatya", type: "uretici", icon: "ğŸŒ¼", desc: "GÃ¼neÅŸ Ä±ÅŸÄ±ÄŸÄ±nÄ± kullanarak enerji depolar." },
        { name: "Kurt", type: "tuketici", icon: "ğŸº", desc: "EtÃ§il bir tÃ¼keticidir. Hasta hayvanlarÄ± avlayarak dengeyi saÄŸlar." },
        { name: "TavÅŸan", type: "tuketici", icon: "ğŸ‡", desc: "OtÃ§ul bir tÃ¼keticidir. HÄ±zlÄ± Ã¼rer." },
        { name: "Ã‡ekirge", type: "tuketici", icon: "ğŸ¦—", desc: "Bitkilerle beslenen birincil tÃ¼keticidir." },
        { name: "Mantar", type: "ayristirici", icon: "ğŸ„", desc: "Ã–lÃ¼ organizmalarÄ± Ã§Ã¼rÃ¼terek topraÄŸa mineral kazandÄ±rÄ±r." },
        { name: "Solucan", type: "ayristirici", icon: "ğŸª±", desc: "TopraÄŸÄ± havalandÄ±rÄ±r ve organik atÄ±klarÄ± parÃ§alar." },
        { name: "Kartal", type: "tuketici", icon: "ğŸ¦…", desc: "Besin zincirinin en Ã¼st basamaklarÄ±ndadÄ±r." },
        { name: "Bal ArÄ±sÄ±", type: "tuketici", icon: "ğŸ", desc: "Polen taÅŸÄ±yarak bitkilerin Ã¼remesini saÄŸlar." },
        { name: "KÃ¶pekbalÄ±ÄŸÄ±", type: "tuketici", icon: "ğŸ¦ˆ", desc: "Deniz ekosisteminin en Ã¼st avcÄ±sÄ±dÄ±r." },
        { name: "Bakteri", type: "ayristirici", icon: "ğŸ§«", desc: "Madde dÃ¶ngÃ¼sÃ¼nde kritik rol oynar." },
        { name: "Ä°nek", type: "tuketici", icon: "ğŸ„", desc: "OtÃ§ul memelidir." },
        { name: "Aslan", type: "tuketici", icon: "ğŸ¦", desc: "Savan ekosisteminin kralÄ±." },
        { name: "BuÄŸday", type: "uretici", icon: "ğŸŒ¾", desc: "Temel besin kaynaÄŸÄ± olan bir Ã¼reticidir." },
        { name: "KurbaÄŸa", type: "tuketici", icon: "ğŸ¸", desc: "Hem suda hem karada yaÅŸar, sineklerle beslenir." },
        { name: "BaykuÅŸ", type: "tuketici", icon: "ğŸ¦‰", desc: "Gece avcÄ±sÄ±dÄ±r, kemirgen popÃ¼lasyonunu dengeler." },
        { name: "YÄ±lan", type: "tuketici", icon: "ğŸ", desc: "AvcÄ±dÄ±r, ekosistemde kemirgenleri kontrol eder." }
    ];

    // Olay SenaryolarÄ±
    const events = [
        {
            title: "ğŸ”¥ Orman YangÄ±nÄ±!",
            icon: "ğŸ”¥",
            desc: "YazÄ±n aÅŸÄ±rÄ± sÄ±caklar orman yangÄ±nÄ±na sebep oldu. Ne yapacaksÄ±n?",
            choices: [
                { text: "Kendi haline bÄ±rak (DoÄŸal Seleksiyon)", score: "science", effect: "Bitkiler azalÄ±r, toprak yenilenir." },
                { text: "Acil aÄŸaÃ§landÄ±rma yap", score: "engineer", effect: "Bitki sayÄ±sÄ± hÄ±zla artar." },
                { text: "HayvanlarÄ± gÃ¼venli yere taÅŸÄ±", score: "guardian", effect: "Hayvan popÃ¼lasyonu korunur." }
            ]
        },
        {
            title: "ğŸ¦— Ä°stilacÄ± TÃ¼r!",
            icon: "ğŸ¦—",
            desc: "BÃ¶lgeye yabancÄ± ve zararlÄ± bir bÃ¶cek tÃ¼rÃ¼ geldi. Bitkileri yok ediyor.",
            choices: [
                { text: "Kimyasal ilaÃ§ kullan", score: "engineer", effect: "BÃ¶cekler Ã¶lÃ¼r ama toprak kirlenir." },
                { text: "BÃ¶ceÄŸi yiyen kuÅŸ tÃ¼rÃ¼ getir", score: "balance", effect: "Biyolojik mÃ¼cadele ile denge saÄŸlanÄ±r." },
                { text: "Ä°nceleme altÄ±na al", score: "science", effect: "Bilgi toplanÄ±r ama zarar devam eder." }
            ]
        },
        {
            title: "ğŸ’§ Åiddetli KuraklÄ±k",
            icon: "ğŸœï¸",
            desc: "YaÄŸÄ±ÅŸlar kesildi. Su kaynaklarÄ± tÃ¼keniyor.",
            choices: [
                { text: "Su kanallarÄ± inÅŸa et", score: "engineer", effect: "Su yapay olarak getirilir." },
                { text: "KuraklÄ±ÄŸa dayanÄ±klÄ± tohum ek", score: "science", effect: "Adaptasyon sÃ¼reci hÄ±zlanÄ±r." },
                { text: "Suyu sadece hayvanlara ver", score: "guardian", effect: "Bitkiler kurur, hayvanlar yaÅŸar." }
            ]
        }
    ];

    // Oyun Durumu
    let currentState = {
        plants: 50,
        herbivores: 40,
        carnivores: 20,
        scoreProfile: { guardian: 0, science: 0, balance: 0, engineer: 0 }
    };

    // --- FONKSÄ°YONLAR ---

    // Ekran DeÄŸiÅŸtirme
    function goToScreen(screenId) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(screenId).classList.add('active');
        
        // Ses efekti (hafif titreÅŸim/feedback - mobil iÃ§in)
        if(navigator.vibrate) navigator.vibrate(20);
    }

    // SimÃ¼lasyon Hesaplama (Slider deÄŸiÅŸince)
    function updateSim() {
        const temp = parseInt(document.getElementById('slider-temp').value);
        const rain = parseInt(document.getElementById('slider-rain').value);
        const plantInput = parseInt(document.getElementById('slider-plant').value);
        const predInput = parseInt(document.getElementById('slider-predator').value);

        // UI GÃ¼ncelleme
        document.getElementById('val-temp').innerText = temp + "Â°C";
        document.getElementById('val-rain').innerText = rain < 30 ? "Kurak" : (rain > 70 ? "Bol" : "Orta");
        document.getElementById('val-plant').innerText = plantInput + "%";
        document.getElementById('val-predator').innerText = predInput + " Adet";

        // Basit Ekoloji AlgoritmasÄ±
        // 1. Bitki Ãœretimi: SÄ±caklÄ±k (Ä±lÄ±man iyidir) ve YaÄŸÄ±ÅŸa baÄŸlÄ±
        let plantHealth = plantInput;
        if (temp > 40 || temp < 0) plantHealth -= 20; // AÅŸÄ±rÄ± sÄ±caklÄ±k zararlÄ±
        if (rain < 20) plantHealth -= 30; // KuraklÄ±k zararlÄ±
        if (rain > 80 && temp > 20) plantHealth += 10; // Tropik etki
        
        // SÄ±nÄ±rlandÄ±rma
        plantHealth = Math.max(0, Math.min(100, plantHealth));

        // 2. OtÃ§ullar: Bitkiye baÄŸlÄ±
        let herbivoreHealth = (plantHealth * 0.8); 

        // 3. EtÃ§iller: OtÃ§ullara ve kendi yoÄŸunluklarÄ±na baÄŸlÄ±
        // Ã‡ok fazla yÄ±rtÄ±cÄ± varsa otÃ§ullar azalÄ±r
        if (predInput > 50) herbivoreHealth -= 20;
        
        let carnivoreHealth = predInput;
        // EÄŸer yiyecek (otÃ§ul) azsa etÃ§iller de azalÄ±r (simÃ¼lasyon gÃ¶rseli iÃ§in)
        if (herbivoreHealth < 20) carnivoreHealth = Math.min(carnivoreHealth, 30);

        // DeÄŸerleri kaydet ve yansÄ±t
        currentState.plants = plantHealth;
        currentState.herbivores = Math.max(0, herbivoreHealth);
        currentState.carnivores = carnivoreHealth;

        updateBars();
    }

    function updateBars() {
        document.getElementById('bar-producers').style.width = currentState.plants + "%";
        document.getElementById('txt-producers').innerText = Math.round(currentState.plants) + "%";

        document.getElementById('bar-herbivores').style.width = currentState.herbivores + "%";
        document.getElementById('txt-herbivores').innerText = Math.round(currentState.herbivores) + "%";

        document.getElementById('bar-carnivores').style.width = currentState.carnivores + "%";
        document.getElementById('txt-carnivores').innerText = Math.round(currentState.carnivores) + "%";
    }

    // Olay EkranÄ±na GeÃ§iÅŸ
    function goToEvent() {
        // Rastgele olay seÃ§
        const randomEvent = events[Math.floor(Math.random() * events.length)];
        
        document.getElementById('event-title').innerText = randomEvent.title;
        document.getElementById('event-icon').innerText = randomEvent.icon;
        document.getElementById('event-desc').innerText = randomEvent.desc;

        const choicesDiv = document.getElementById('event-choices');
        choicesDiv.innerHTML = ""; // Temizle

        randomEvent.choices.forEach(choice => {
            const btn = document.createElement('button');
            btn.className = 'btn btn-choice';
            btn.innerHTML = choice.text;
            btn.onclick = () => makeChoice(choice.score, choice.effect);
            choicesDiv.appendChild(btn);
        });

        goToScreen('screen-event');
    }

    // SeÃ§im Yapma
    function makeChoice(scoreType, effectText) {
        currentState.scoreProfile[scoreType]++;
        alert("ğŸ“¢ SONUÃ‡: " + effectText); // Basit geribildirim
        goToScreen('screen-random');
    }

    // Rastgele CanlÄ± SeÃ§imi
    function rollOrganism() {
        const btn = document.getElementById('btn-roll');
        const card = document.getElementById('organism-result');
        const finishBtn = document.getElementById('btn-finish');
        
        // Animasyon efekti iÃ§in buton pasif
        btn.disabled = true;
        btn.innerText = "SeÃ§iliyor...";
        card.style.display = 'none';

        setTimeout(() => {
            const org = organisms[Math.floor(Math.random() * organisms.length)];
            
            document.getElementById('org-icon').innerText = org.icon;
            document.getElementById('org-name').innerText = org.name;
            document.getElementById('org-desc').innerText = org.desc;
            
            const typeEl = document.getElementById('org-type');
            typeEl.className = 'role-type type-' + org.type; // Renk sÄ±nÄ±fÄ±
            typeEl.innerText = org.type.toUpperCase() + (org.type === 'uretici' ? ' (Producer)' : (org.type === 'tuketici' ? ' (Consumer)' : ' (Decomposer)'));

            card.style.display = 'block';
            btn.style.display = 'none';
            finishBtn.style.display = 'inline-block';
            
            if(navigator.vibrate) navigator.vibrate([50, 50, 50]);
        }, 800);
    }

    // Oyunu Bitirme ve SonuÃ§
    function finishGame() {
        goToScreen('screen-result');
        
        // En yÃ¼ksek puanÄ± bul
        const scores = currentState.scoreProfile;
        let maxScore = 0;
        let role = "guardian"; // default

        // Basit mantÄ±k: en Ã§ok hangi tip seÃ§im yapÄ±ldÄ±ysa o ol
        if (scores.science > maxScore) { maxScore = scores.science; role = "science"; }
        if (scores.balance > maxScore) { maxScore = scores.balance; role = "balance"; }
        if (scores.engineer > maxScore) { maxScore = scores.engineer; role = "engineer"; }
        if (scores.guardian >= maxScore) { role = "guardian"; } // EÅŸitlikte default

        const badges = {
            guardian: { title: "ğŸŒ¿ DoÄŸa Koruyucu", icon: "ğŸ»", desc: "Senin Ã¶nceliÄŸin canlÄ±larÄ± yaÅŸatmak. Duygusal zekan yÃ¼ksek ve doÄŸayÄ± olduÄŸu gibi seviyorsun." },
            science: { title: "ğŸ”¬ Ekosistem Bilimcisi", icon: "ğŸ§¬", desc: "Olaylara analitik yaklaÅŸÄ±yorsun. GÃ¶zlem yapmayÄ± ve verileri incelemeyi tercih ediyorsun." },
            balance: { title: "âš– Denge UzmanÄ±", icon: "â˜¯ï¸", desc: "HiÃ§bir tarafÄ± abartmÄ±yorsun. Ekosistemin sÃ¼rdÃ¼rÃ¼lebilirliÄŸi senin iÃ§in en Ã¶nemlisi." },
            engineer: { title: "ğŸ›  Ekosistem MÃ¼hendisi", icon: "ğŸ—ï¸", desc: "Sorunlara teknolojik ve yapÄ±sal Ã§Ã¶zÃ¼mler buluyorsun. MÃ¼dahale etmekten Ã§ekinmiyorsun." }
        };

        const result = badges[role];
        document.getElementById('badge-title').innerText = result.title;
        document.getElementById('badge-icon').innerText = result.icon;
        document.getElementById('badge-desc').innerText = result.desc;
    }

    // BaÅŸlangÄ±Ã§ta Ã§alÄ±ÅŸtÄ±r
    updateSim();

</script>

</body>
</html>
